<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guide Dashboard - Smart Tourism Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        .card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg fixed w-full top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <i class="fas fa-compass text-2xl text-green-600 mr-2"></i>
                    <span class="text-xl font-bold text-gray-800">Smart Tourism Assistant</span>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="guide-dashboard.html" class="text-green-600 px-3 py-2 rounded-md text-sm font-medium">Dashboard</a>
                        <a href="guide-schedule.html" class="text-gray-500 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium">Schedule</a>
                        <a href="guide-tourists.html" class="text-gray-500 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium">Tourists</a>
                        <a href="guide-chat.html" class="text-gray-500 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium">Chat</a>
                        <button onclick="logoutUser()" class="text-red-600 block px-3 py-2 rounded-md text-base font-medium">
    Logout
</button>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-gray-500 hover:text-gray-600 focus:outline-none focus:text-gray-600">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile menu -->
        <div id="mobile-menu" class="md:hidden hidden bg-white border-t">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="guide-dashboard.html" class="text-green-600 block px-3 py-2 rounded-md text-base font-medium">Dashboard</a>
                <a href="guide-schedule.html" class="text-gray-500 block px-3 py-2 rounded-md text-base font-medium">Schedule</a>
                <a href="guide-tourists.html" class="text-gray-500 block px-3 py-2 rounded-md text-base font-medium">Tourists</a>
                <a href="guide-chat.html" class="text-gray-500 block px-3 py-2 rounded-md text-base font-medium">Chat</a>
                <button onclick="logoutUser()" class="text-red-600 block px-3 py-2 rounded-md text-base font-medium">
    Logout
</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="pt-16">
        <!-- Hero Section -->
        <section class="gradient-bg py-12">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h1 class="text-3xl md:text-4xl font-bold text-white mb-4">Welcome back!</h1>
                    <p class="text-xl text-green-100 mb-6">Ready to guide amazing tourists through India?</p>
                </div>
            </div>
        </section>

        <!-- Dashboard Content -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

            <!-- Quick Stats -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-md card-hover">
                    <div class="flex items-center">
                        <div class="bg-green-100 p-3 rounded-full">
                            <i class="fas fa-calendar-check text-green-600 text-xl"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm text-gray-600">Today's Tours</p>
                            <p class="text-2xl font-bold text-gray-800">3</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md card-hover">
                    <div class="flex items-center">
                        <div class="bg-blue-100 p-3 rounded-full">
                            <i class="fas fa-users text-blue-600 text-xl"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm text-gray-600">Total Tourists</p>
                            <p class="text-2xl font-bold text-gray-800">12</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md card-hover">
                    <div class="flex items-center">
                        <div class="bg-purple-100 p-3 rounded-full">
                            <i class="fas fa-star text-purple-600 text-xl"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm text-gray-600">Rating</p>
                            <p class="text-2xl font-bold text-gray-800">4.9</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md card-hover">
                    <div class="flex items-center">
                        <div class="bg-orange-100 p-3 rounded-full">
                            <i class="fas fa-rupee-sign text-orange-600 text-xl"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm text-gray-600">Earnings</p>
                            <p class="text-2xl font-bold text-gray-800">â‚¹45K</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Today's Schedule -->
                <div class="bg-white rounded-lg shadow-md">
                    <div class="p-6 border-b">
                        <h3 class="text-xl font-semibold text-gray-800 flex items-center">
                            <i class="fas fa-clock text-green-600 mr-2"></i>
                            Today's Schedule
                        </h3>
                    </div>
                    <div class="p-6">
                        <div class="space-y-4">
                            <div class="flex items-center space-x-4 p-4 bg-green-50 rounded-lg">
                                <div class="text-center">
                                    <div class="text-sm text-gray-600">9:00 AM</div>
                                    <div class="text-xs text-gray-500">2 hours</div>
                                </div>
                                <div class="flex-1">
                                    <h4 class="font-semibold text-gray-800">Red Fort Tour</h4>
                                    <p class="text-sm text-gray-600">Sarah Johnson (2 people)</p>
                                    <div class="flex items-center mt-1">
                                        <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full">Confirmed</span>
                                    </div>
                                </div>
                                <button class="text-green-600 hover:text-green-800">
                                    <i class="fas fa-phone"></i>
                                </button>
                            </div>
                            <div class="flex items-center space-x-4 p-4 bg-blue-50 rounded-lg">
                                <div class="text-center">
                                    <div class="text-sm text-gray-600">2:00 PM</div>
                                    <div class="text-xs text-gray-500">3 hours</div>
                                </div>
                                <div class="flex-1">
                                    <h4 class="font-semibold text-gray-800">Old Delhi Food Walk</h4>
                                    <p class="text-sm text-gray-600">Mike Chen (4 people)</p>
                                    <div class="flex items-center mt-1">
                                        <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full">Upcoming</span>
                                    </div>
                                </div>
                                <button class="text-blue-600 hover:text-blue-800">
                                    <i class="fas fa-phone"></i>
                                </button>
                            </div>
                            <div class="flex items-center space-x-4 p-4 bg-purple-50 rounded-lg">
                                <div class="text-center">
                                    <div class="text-sm text-gray-600">6:00 PM</div>
                                    <div class="text-xs text-gray-500">2 hours</div>
                                </div>
                                <div class="flex-1">
                                    <h4 class="font-semibold text-gray-800">Evening Heritage Walk</h4>
                                    <p class="text-sm text-gray-600">Emma Wilson (3 people)</p>
                                    <div class="flex items-center mt-1">
                                        <span class="text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full">Pending</span>
                                    </div>
                                </div>
                                <button class="text-purple-600 hover:text-purple-800">
                                    <i class="fas fa-phone"></i>
                                </button>
                        </div>
                    </div>
                </div>
            </div>

                <!-- Recent Tourists -->
                <div class="bg-white rounded-lg shadow-md">
                    <div class="p-6 border-b">
                        <h3 class="text-xl font-semibold text-gray-800 flex items-center">
                            <i class="fas fa-users text-blue-600 mr-2"></i>
                            Recent Tourists
                        </h3>
                    </div>
                    <div class="p-6">
                        <div class="space-y-4">
                            <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
                                <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=50&h=50&fit=crop&crop=face" 
                                     alt="Sarah Johnson" class="w-12 h-12 rounded-full object-cover">
                                <div class="flex-1">
                                    <h4 class="font-semibold text-gray-800">Sarah Johnson</h4>
                                    <p class="text-sm text-gray-600">Red Fort Tour â€¢ Dec 20</p>
                                    <div class="flex items-center mt-1">
                                        <div class="flex text-yellow-400">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <span class="text-sm text-gray-600 ml-2">5.0</span>
                                    </div>
                                </div>
                                <button class="text-green-600 hover:text-green-800">
                                    <i class="fas fa-comment"></i>
                                </button>
                            </div>
                            <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
                                <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=50&h=50&fit=crop&crop=face" 
                                     alt="Mike Chen" class="w-12 h-12 rounded-full object-cover">
                                <div class="flex-1">
                                    <h4 class="font-semibold text-gray-800">Mike Chen</h4>
                                    <p class="text-sm text-gray-600">Food Walk â€¢ Dec 19</p>
                                    <div class="flex items-center mt-1">
                                        <div class="flex text-yellow-400">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="far fa-star"></i>
                            </div>
                                        <span class="text-sm text-gray-600 ml-2">4.0</span>
                                </div>
                            </div>
                                <button class="text-green-600 hover:text-green-800">
                                    <i class="fas fa-comment"></i>
                                </button>
                            </div>
                            <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
                                <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=50&h=50&fit=crop&crop=face" 
                                     alt="Emma Wilson" class="w-12 h-12 rounded-full object-cover">
                                <div class="flex-1">
                                    <h4 class="font-semibold text-gray-800">Emma Wilson</h4>
                                    <p class="text-sm text-gray-600">Heritage Walk â€¢ Dec 18</p>
                                    <div class="flex items-center mt-1">
                                        <div class="flex text-yellow-400">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <span class="text-sm text-gray-600 ml-2">5.0</span>
                                </div>
                            </div>
                                <button class="text-green-600 hover:text-green-800">
                                    <i class="fas fa-comment"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                        </div>
                        
            <!-- Earnings Chart -->
            <div class="mt-8">
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-xl font-semibold text-gray-800 mb-6 flex items-center">
                    <i class="fas fa-chart-line text-green-600 mr-2"></i>
                    Weekly Earnings
                    </h3>
                <div class="grid grid-cols-7 gap-4">
                    <div class="text-center">
                        <div class="bg-green-100 h-20 rounded-lg flex items-end justify-center mb-2">
                            <div class="bg-green-500 w-8 h-16 rounded-t"></div>
                                </div>
                        <div class="text-sm text-gray-600">Mon</div>
                        <div class="text-xs text-gray-500">â‚¹8K</div>
                            </div>
                    <div class="text-center">
                        <div class="bg-green-100 h-20 rounded-lg flex items-end justify-center mb-2">
                            <div class="bg-green-500 w-8 h-12 rounded-t"></div>
                            </div>
                        <div class="text-sm text-gray-600">Tue</div>
                        <div class="text-xs text-gray-500">â‚¹6K</div>
                            </div>
                    <div class="text-center">
                        <div class="bg-green-100 h-20 rounded-lg flex items-end justify-center mb-2">
                            <div class="bg-green-500 w-8 h-20 rounded-t"></div>
                        </div>
                        <div class="text-sm text-gray-600">Wed</div>
                        <div class="text-xs text-gray-500">â‚¹10K</div>
                                </div>
                    <div class="text-center">
                        <div class="bg-green-100 h-20 rounded-lg flex items-end justify-center mb-2">
                            <div class="bg-green-500 w-8 h-14 rounded-t"></div>
                            </div>
                        <div class="text-sm text-gray-600">Thu</div>
                        <div class="text-xs text-gray-500">â‚¹7K</div>
                            </div>
                    <div class="text-center">
                        <div class="bg-green-100 h-20 rounded-lg flex items-end justify-center mb-2">
                            <div class="bg-green-500 w-8 h-18 rounded-t"></div>
                            </div>
                        <div class="text-sm text-gray-600">Fri</div>
                        <div class="text-xs text-gray-500">â‚¹9K</div>
                        </div>
                    <div class="text-center">
                        <div class="bg-green-100 h-20 rounded-lg flex items-end justify-center mb-2">
                            <div class="bg-green-500 w-8 h-22 rounded-t"></div>
                                </div>
                        <div class="text-sm text-gray-600">Sat</div>
                        <div class="text-xs text-gray-500">â‚¹12K</div>
                            </div>
                    <div class="text-center">
                        <div class="bg-green-100 h-20 rounded-lg flex items-end justify-center mb-2">
                            <div class="bg-green-500 w-8 h-16 rounded-t"></div>
                            </div>
                        <div class="text-sm text-gray-600">Sun</div>
                        <div class="text-xs text-gray-500">â‚¹8K</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Chatbot UI -->
<div id="chatbot-icon" class="fixed bottom-6 right-6 z-50 w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full shadow-lg flex items-center justify-center cursor-pointer hover:scale-105 transition">
    <i class="fas fa-comments text-white text-lg"></i>
</div>
<div id="chatbot-window" class="fixed bottom-6 right-6 z-50 w-full max-w-xs bg-white rounded-xl shadow-2xl flex flex-col overflow-hidden border border-blue-200 hidden" style="height: 370px; font-size: 0.95rem;">
    <div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-3 py-2 flex items-center justify-between">
        <span class="font-semibold text-base">Smart Tourism Assistant Chatbot ðŸ¤–</span>
        <button id="chatbot-close" class="text-white text-lg hover:text-gray-200"><i class="fas fa-times"></i></button>
    </div>
    <div id="chatbot-messages" class="flex-1 px-3 py-2 overflow-y-auto space-y-2 bg-gray-50" style="font-family: 'Inter', 'Poppins', sans-serif;"></div>
    <div class="px-3 py-2 bg-white border-t flex flex-col gap-2">
        <div id="chatbot-questions" class="flex flex-wrap gap-2"></div>
    </div>
</div>

<script>
function getUserRole() {
    return localStorage.getItem('selectedRole') || 'guide';
}
const chatbotQA = {
    guest: [
        { q: "What is Smart Tourism Assistant?", a: "It's a platform to explore tourist spots, plan trips, and connect with local guides." },
        { q: "How do I register as a tourist?", a: "Click the 'I'm a Tourist' button and follow the registration process." },
        { q: "What can local guides do here?", a: "Local guides can connect with tourists, manage their schedule, and offer tours." },
        { q: "What benefits do vendors get?", a: "Vendors can list products, receive orders from tourists, and grow their business." },
        { q: "How can I contact support?", a: "Use the contact form or chat with us for any assistance you need." }
    ],
    tourist: [
        { q: "Show me nearby tourist attractions.", a: "You can explore nearby attractions using the Explore page or Trip Planner." },
        { q: "How can I find a local guide?", a: "Go to the 'Find Guide' section to browse and book local guides." },
        { q: "How do I order from local vendors?", a: "Visit the 'Orders' page to order authentic products from local vendors." },
        { q: "Can I create my own travel plan?", a: "Yes! Use the Trip Planner to customize your itinerary." },
        { q: "How do I get SOS help?", a: "Click the SOS button in your dashboard for emergency assistance." }
    ],
    guide: [
        { q: "How can I view my timetable?", a: "Your timetable is available in your dashboard under 'Schedule'." },
        { q: "How do I connect with tourists?", a: "You can chat with tourists and accept bookings from your dashboard." },
        { q: "How are payments handled?", a: "Payments are processed securely and credited to your account after each tour." },
        { q: "Can I update my availability?", a: "Yes, update your available dates in your profile settings." }
    ],
    vendor: [
        { q: "How can I list my products?", a: "Go to the 'Products' page to add or update your shop items." },
        { q: "How do I manage my dashboard?", a: "Your dashboard lets you track orders, manage products, and view analytics." },
        { q: "How do I track tourist orders?", a: "Check the 'Orders' section for all incoming and completed orders." },
        { q: "Can I offer discounts?", a: "Yes, set up discounts and offers from your dashboard to attract more tourists." }
    ]
};
const chatbotIcon = document.getElementById('chatbot-icon');
const chatbotWindow = document.getElementById('chatbot-window');
const chatbotClose = document.getElementById('chatbot-close');
const chatbotMessages = document.getElementById('chatbot-messages');
const chatbotQuestions = document.getElementById('chatbot-questions');
chatbotIcon.onclick = () => {
    chatbotWindow.classList.remove('hidden');
    chatbotIcon.classList.add('hidden');
    showWelcomeMessage();
    loadQuestions();
};
chatbotClose.onclick = () => {
    chatbotWindow.classList.add('hidden');
    chatbotIcon.classList.remove('hidden');
};
function showWelcomeMessage() {
    chatbotMessages.innerHTML = '';
    addMessage("Hi! Iâ€™m your Smart Tourism Assistant ðŸ¤–. How can I help you today?", 'bot', true);
}
function loadQuestions() {
    chatbotQuestions.innerHTML = '';
    const role = getUserRole();
    const questions = chatbotQA[role] || chatbotQA['guide'];
    questions.forEach((item, idx) => {
        const btn = document.createElement('button');
        btn.className = 'bg-gradient-to-r from-blue-500 to-purple-600 text-white px-3 py-1 rounded-full font-medium shadow hover:scale-105 transition duration-200 mb-2 text-xs';
        btn.textContent = item.q;
        btn.onclick = () => handleQuestion(item.q, item.a);
        chatbotQuestions.appendChild(btn);
    });
}
function handleQuestion(question, answer) {
    addMessage(question, 'user');
    showTypingAnimation(() => {
        addMessage(answer, 'bot');
    });
}
function addMessage(text, sender, isWelcome = false) {
    const msgDiv = document.createElement('div');
    msgDiv.className = sender === 'bot'
        ? 'bg-blue-100 text-blue-800 rounded-lg px-2 py-1 w-fit mb-2 chatbot-bot-message text-xs'
        : 'bg-gray-200 text-gray-800 rounded-lg px-2 py-1 w-fit self-end mb-2 chatbot-user-message text-xs';
    if (isWelcome) {
        msgDiv.className += ' typing-animation';
    }
    msgDiv.textContent = text;
    chatbotMessages.appendChild(msgDiv);
    chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
}
function showTypingAnimation(callback) {
    const typingDiv = document.createElement('div');
    typingDiv.className = 'flex items-center mb-2';
    typingDiv.innerHTML = '<span class="w-2 h-2 bg-blue-500 rounded-full mr-1 animate-bounce"></span>' +
        '<span class="w-2 h-2 bg-purple-500 rounded-full mr-1 animate-bounce"></span>' +
        '<span class="w-2 h-2 bg-blue-500 rounded-full animate-bounce"></span>';
    chatbotMessages.appendChild(typingDiv);
    chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    setTimeout(() => {
        typingDiv.remove();
        callback();
    }, 900);
}
window.addEventListener('resize', () => {
    if (window.innerWidth < 500) {
        chatbotWindow.style.width = '95vw';
    } else {
        chatbotWindow.style.width = '';
    }
});
 function logoutUser() {
    localStorage.removeItem("tourist_user");
    localStorage.removeItem("auth_token");
    window.location.href = "guide-login.html";
}
</script>
</body>
</html>
